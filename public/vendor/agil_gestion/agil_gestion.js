var app=angular.module("app",["ngRoute","chieffancypants.loadingBar","ngAnimate","ui.bootstrap","angular-toasty","cfp.loadingBar","datatables","ngCookies"]);app.factory("AgCore",["$http","$rootScope","$q","cfpLoadingBar","Modal","$log",function(t,e,o,n,r,a){var i={};return i.http=function(e){var r,a,i=!1,c={};return c.canceled=!1,c.result=o.defer(),c.timeout=o.defer(),c.promise=null,c.cancel=function(){i=!0,c.timeout.resolve(),c.result.reject(),c.canceled=!0,n.complete()},e.timeout||(e.timeout=30),setTimeout(function(){i=!0,c.timeout.resolve()},1e3*e.timeout),a={method:e.method,url:e.url,cache:!1,timeout:c.timeout.promise},e.data&&(a.data=e.data),r=t(a),r.success(function(t,e,o,n){c.result.resolve(t)}),r.error(function(t,o,n,r){i?c.canceled||c.result.reject({error:"HTTP Timeout ("+e.timeout+" seg)"}):0===o?c.result.reject({error:"No se detecto conexion de red"}):c.result.reject({error:"ERROR: "+o})}),c},i.modal=function(t){var o=BootstrapDialog.TYPE_PRIMARY;switch(t.type){case"danger":o=BootstrapDialog.TYPE_DANGER;break;case"default":o=BootstrapDialog.TYPE_DEFAULT;break;case"success":o=BootstrapDialog.TYPE_SUCCESS;break;case"warning":o=BootstrapDialog.TYPE_WARNING;break;case"info":o=BootstrapDialog.TYPE_INFO;break;case"primary":o=BootstrapDialog.TYPE_PRIMARY}e.modalOpened||r.create(t.scope,t.title,t.route,o,t.controller,t.ignoreloadingbar)},i.modalError=function(t,o){e.modalOpened||r.error(t,o)},i.storage=function(t){if(!t.value){var e=window.localStorage.getItem(t.name);return t.json?JSON.parse(e):e}var o=t.value;t.json&&(o=JSON.stringify(t.value)),window.localStorage.setItem(t.name,o)},i.sweetAlert=function(o){var n=o.options;!function(o){"use strict";var r=function(){};r.prototype.init=function(){swal({title:n.title,text:n.text,type:n.type,showCancelButton:n.showCancelButton,confirmButtonColor:n.confirmButtonColor,confirmButtonText:n.confirmButtonText,cancelButtonText:n.cancelButtonText,closeOnConfirm:n.closeOnConfirm,closeOnCancel:n.closeOnCancel},function(o){return o?void t.get(n.actionConfirmRoute).then(function(t){"ok"==t.data?(swal(n.actionConfirmTitle,n.actionConfirmText,n.actionConfirmType),e.callBackSweetAlert("ya fueeeeee!!!")):(swal("Error","Ocurrió un error al intentar realizar la operaeción.","error"),e.callBackSweetAlert("apaaaa, no fueeee!!!"))}):(swal(n.actionCancelTitle,n.actionCancelText,n.actionCancelType),!1)})},o.SweetAlert=new r,o.SweetAlert.Constructor=r}(window.jQuery),function(t){"use strict";t.SweetAlert.init()}(window.jQuery)},i.successSweetAlert=function(t){var e=t.options;!function(t){"use strict";var o=function(){};o.prototype.init=function(){swal({title:e.title,text:e.text,type:e.type,showCancelButton:!1,confirmButtonColor:e.confirmButtonColor,confirmButtonText:"Cerrar",closeOnConfirm:!0},function(){swal()})},t.SweetAlert=new o,t.SweetAlert.Constructor=o}(window.jQuery),function(t){"use strict";t.SweetAlert.init()}(window.jQuery)},i}]),app.factory("Crud",["$http",function(t){var e={};return e.Request=function(e){return t.get(e)},e.Create=function(e,o){return t({method:"POST",data:e,url:o}).then(function(t){return t},function(t){return t})},e.Update=function(e,o){return t({method:"POST",data:e,url:o}).then(function(t){return t},function(t){return t})},e.Delete=function(e,o){return t.get(o+"/"+e)},e}]),app.factory("Modal",["$http","$compile","$rootScope","$timeout",function(t,e,o,n){var r,a,i={};return i.build=function(t,e,n){void 0==n&&(n=BootstrapDialog.TYPE_PRIMARY),BootstrapDialog.show({type:n,title:t,message:e,onshown:function(t){o.modalOpened=!0,$("input.focus").focus(),r.$emit("modal:show",{modalscope:r,parentscope:a,dialog:t})},onhide:function(t){o.modalOpened=!1,r.$emit("modal:hide",{modalscope:r,parentscope:a,dialog:t}),r.$destroy()}})},i.create=function(o,n,c,u,l,s){return void 0==s&&(s=!0),a=o,r=o.$new(),t.get(c,{ignoreLoadingBar:s}).then(function(t){var o=t.data;return l&&(o='<div ng-controller="'+l+'">'+t.data+"</div>"),i.build(n,e(o)(r),u),r},function(t){var e="Ocurrio un error ("+t.status+") durante la operacion, intente nuevamente en unos minutos, si el problema persiste consulte con el administrador del sistema";l&&(e='<div ng-controller="'+l+'">'+e+"</div>"),i.error(o,e)})},i.error=function(t,o){a=t,r=t.$new();var n='<div class="alert alert-danger">'+o+"<div>";return i.build("ERROR",e(n)(r),BootstrapDialog.TYPE_DANGER),r},i}]);